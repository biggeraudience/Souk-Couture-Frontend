@import '../config/variables';
@import '../config/mixins';

.product-card {
  background-color: $color-background-primary; // FFFFF0 background
  border: 0.1rem solid $color-border-default; // Black border for the card itself
  border-radius: $border-radius-medium;
  @include shadow(light); // Subtle shadow
  overflow: hidden; // Ensures content stays within bounds
  display: flex;
  flex-direction: column;
  position: relative; // For absolute positioning of bookmark icon

  // Product Image Section
  &__image-container {
    width: 100%;
    height: 60%; // Image height about 60% of product card
    padding: $spacing-xs; // 2px padding from edges of product card (0.2rem)
    border: 0.1rem solid $color-border-default; // 0.3px black border (0.1rem)
    border-bottom: none; // No border at the bottom, information starts 2px below
    box-sizing: border-box; // Include padding/border in height calculation
    display: flex; // To center image if smaller
    justify-content: center;
    align-items: center;

    img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain; // Ensures image fits without cropping
    }
  }

  // Product Information Section
  &__info {
    flex-grow: 1; // Allows info section to take remaining height
    padding: $spacing-s; // Consistent padding inside info box
    padding-top: $spacing-xxs; // 2px below image (0.2rem)
    border: 0.1rem solid transparent; // Invisible border (for consistency)
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: space-between; // Space out content vertically
    height: 40%; // Remaining 40% of card height
    overflow: hidden; // Crucial: Ensures content doesn't grow beyond bounds
  }

  &__header {
    @include flex-center; // Center product name and bookmark horizontally
    justify-content: space-between; // Push bookmark to right
    width: 100%;
    margin-bottom: $spacing-xxs; // Small margin below header
    position: relative; // For bookmark icon positioning
  }

  &__name {
    font-family: $font-family-body; // Overpass Mono
    font-weight: $font-weight-medium;
    font-size: $font-size-base;
    color: $color-text-dark;
    text-align: center; // Center top of the information container
    flex-grow: 1; // Allow name to take available space
    white-space: nowrap; // Prevent wrapping
    overflow: hidden; // Hide overflow
    text-overflow: ellipsis; // Show ellipsis for overflow
    margin-right: $spacing-xs; // Space from bookmark
  }

  &__bookmark-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: $color-gray-medium; // Default color for icon
    font-size: $font-size-large; // Example size for icon
    transition: color $transition-speed-fast $transition-ease;

    &:hover {
      color: $color-accent-hover-emphasis; // F03500 on hover
    }

    &--active {
      color: $color-active-state; // CDEDA2 when active
    }
  }

  &__price {
    font-family: $font-family-body; // Overpass Mono
    font-size: $font-size-large;
    font-weight: $font-weight-bold;
    color: $color-text-dark;
    margin-bottom: $spacing-s; // Margin below price
    text-align: center;
  }

  &__actions {
    @include flex-center;
    gap: $spacing-xs; // Space between buttons
    width: 100%;
    margin-top: auto; // Push to bottom if info content is short
  }

  // Buttons inside product card
  .btn {
    flex: 1; // Make buttons take equal width
    padding: $spacing-xs $spacing-s; // Smaller padding for card buttons
    font-size: $font-size-small;
    white-space: nowrap; // Prevent button text from wrapping
  }
}